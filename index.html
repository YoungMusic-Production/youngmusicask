<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>YOUNG MUSIC | åŒ å¿ƒå®šåˆ¶æ„å‘ç¡®è®¤</title>
    <style>
        /* åŸºç¡€æ ·å¼ï¼šé»‘é‡‘é«˜çº§æ„Ÿ */
        * { margin: 0; padding: 0; box-sizing: border-box; font-family: -apple-system, "SF Pro Display", "Helvetica Neue", Arial, sans-serif; }
        body { background: #000; color: #fff; height: 100vh; display: flex; flex-direction: column; overflow: hidden; }
        
        /* å¤´éƒ¨ï¼šå“ç‰Œæ„Ÿ */
        header { padding: 20px; border-bottom: 1px solid #1a1a1a; display: flex; justify-content: space-between; align-items: center; background: #050505; flex-shrink: 0; }
        .brand-name { font-size: 18px; font-weight: bold; letter-spacing: 1px; color: #fff; }
        .brand-sub { font-size: 10px; color: #a855f7; text-transform: uppercase; display: block; margin-top: 2px; }
        .undo-btn { font-size: 12px; color: #888; border: 1px solid #333; padding: 6px 14px; border-radius: 20px; cursor: pointer; transition: 0.3s; }
        .undo-btn:active { background: #1a1a1a; color: #fff; }

        /* å¯¹è¯æµåŒºåŸŸ */
        #chat-box { flex: 1; overflow-y: auto; padding: 20px; -webkit-overflow-scrolling: touch; scroll-behavior: smooth; }
        .bubble-wrapper { display: flex; margin-bottom: 20px; width: 100%; animation: fadeIn 0.4s ease; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        
        .ai-row { justify-content: flex-start; }
        .user-row { justify-content: flex-end; }
        
        .bubble { max-width: 85%; padding: 14px 18px; font-size: 14px; line-height: 1.6; border-radius: 18px; }
        .bubble-ai { background: #1a1a1c; color: #d1d1d1; border: 1px solid #222; border-bottom-left-radius: 4px; }
        .bubble-user { background: #a855f7; color: #fff; border-bottom-right-radius: 4px; box-shadow: 0 4px 15px rgba(168, 85, 247, 0.3); }

        /* äº¤äº’æ§åˆ¶åŒº */
        .interaction-area { background: #050505; border-top: 1px solid #111; padding: 20px; padding-bottom: calc(20px + env(safe-area-inset-bottom)); flex-shrink: 0; }
        .options-container { display: flex; flex-direction: column; gap: 10px; margin-bottom: 15px; }
        
        .opt-btn { background: #111; padding: 16px; border-radius: 12px; border: 1px solid #222; cursor: pointer; transition: 0.2s; }
        .opt-btn:active { background: #1a1a1a; border-color: #a855f7; transform: scale(0.98); }
        .opt-title { font-size: 14px; color: #fff; display: block; font-weight: 600; }
        .desc-tag { font-size: 11px; color: #666; display: block; margin-top: 5px; }

        /* è¾“å…¥æ¡†ï¼šå½“éœ€è¦æ‰‹åŠ¨è¾“å…¥æ—¶äº®èµ· */
        .input-bar { display: flex; gap: 10px; transition: 0.3s; padding: 4px; border-radius: 10px; border: 1px solid transparent; }
        .input-bar.manual-active { background: rgba(168, 85, 247, 0.08); border: 1px solid #a855f7; }
        input { flex: 1; background: #1a1a1a; border: 1px solid #333; border-radius: 8px; padding: 12px; color: #fff; outline: none; font-size: 14px; }
        .send-btn { background: #a855f7; padding: 0 22px; border-radius: 8px; display: flex; align-items: center; font-weight: bold; cursor: pointer; font-size: 14px; }

        /* æœ€ç»ˆæ„å‘å•å¼¹çª— */
        #modal { position: fixed; inset: 0; background: rgba(0,0,0,0.98); display: none; flex-direction: column; align-items: center; justify-content: center; z-index: 99; padding: 25px; }
        .ticket { width: 100%; max-width: 400px; background: #000; border: 1px solid #333; padding: 30px; position: relative; }
        .ticket-header { text-align: center; margin-bottom: 20px; }
        .ticket-line { text-align: center; border-top: 1px solid #222; border-bottom: 1px solid #222; padding: 12px 0; font-size: 18px; font-weight: bold; margin: 20px 0; letter-spacing: 2px; }
        .item { margin-bottom: 16px; }
        .lab { font-size: 10px; color: #a855f7; text-transform: uppercase; display: block; margin-bottom: 4px; font-weight: bold; }
        .val { font-size: 15px; font-weight: 500; color: #efefef; }
        .budget-area { background: rgba(168, 85, 247, 0.1); border-left: 4px solid #a855f7; padding: 15px; margin-top: 25px; }
        .modal-btns { display: flex; gap: 15px; margin-top: 35px; width: 100%; max-width: 400px; }
        .btn { flex: 1; padding: 16px; border-radius: 30px; font-size: 13px; cursor: pointer; text-align: center; font-weight: bold; transition: 0.3s; }
        .btn-gray { background: #222; color: #fff; }
        .btn-purp { background: #a855f7; color: #fff; box-shadow: 0 4px 15px rgba(168, 85, 247, 0.4); }
    </style>
</head>
<body>

<header>
    <div>
        <div class="brand-name">YOUNG MUSIC</div>
        <div class="brand-sub">Premium Bespoke Audio</div>
    </div>
    <div class="undo-btn" onclick="undo()">â†© æ’¤é”€</div>
</header>

<div id="chat-box"></div>

<div class="interaction-area">
    <div id="options" class="options-container"></div>
    <div class="input-bar" id="input-bar-wrap">
        <input type="text" id="user-input" placeholder="è¾“å…¥ç‰¹æ®Šéœ€æ±‚...">
        <div class="send-btn" onclick="handleManual()">å‘é€</div>
    </div>
</div>

<div id="modal">
    <div class="ticket">
        <div class="ticket-header"><span style="font-size:35px;">ğŸ¹</span></div>
        <div class="ticket-line">é¡¹ç›®å®šåˆ¶æ„å‘å•</div>
        <div id="ticket-content"></div>
        <div class="budget-area">
            <span class="lab">Final Intentional Budget</span>
            <span id="final-budget" style="font-size: 22px; font-weight: bold; color: #fff;"></span>
        </div>
        <div style="margin-top:25px; text-align:center; border-top: 1px dashed #333; padding-top: 20px;">
            <span class="lab">Official Contact</span>
            <span style="color:#a855f7; font-size:14px; font-weight: bold;">tingyangmusic@qq.com</span>
        </div>
    </div>
    <div class="modal-btns">
        <div class="btn btn-gray" onclick="location.reload()">é‡æ–°å¼€å§‹</div>
        <div class="btn btn-purp" onclick="copyEmail()">è”ç³»åˆ¶ä½œäºº</div>
    </div>
</div>

<script>
    const scenarios = [
        { q: "æ‚¨å¥½ï¼Œæ¬¢è¿æ¥åˆ° YOUNG MUSICã€‚è¯·é€‰æ‹©åˆ¶ä½œæ¨¡å¼ï¼š", opts: [{ t: "ğŸ¨ åŒ å¿ƒÂ·å…¨æ‰‹å·¥åˆ›ä½œ", d: "æ‹’ç»æ¨¡ç‰ˆï¼Œè‰ºæœ¯ä¸Šé™æé«˜ã€‚" }, { t: "âš¡ AI æ™ºèƒ½è¾…åŠ©åˆ¶ä½œ", d: "æœ€æ–°AIæŠ€æœ¯ï¼Œæ€§ä»·æ¯”ä¹‹é€‰ã€‚" }, { t: "âŒ¨ï¸ è‡ªå®šä¹‰è¾“å…¥", d: "æˆ‘æœ‰å…¶ä»–æƒ³æ³•..." }] },
        { q: "è¯·é€‰æ‹©æ‚¨å¿ƒä»ªçš„æ›²é£é£æ ¼ï¼š", opts: [{ t: "ğŸ¤ æµè¡Œ (Pop)" }, { t: "âš¡ ç”µå­ / ç”µéŸ³ (EDM)" }, { t: "ğŸ§ å˜»å“ˆ / æ‘‡æ»š" }, { t: "ğŸ¹ æŠ’æƒ… / æ°›å›´" }, { t: "ğŸ® å›½é£ / ç®¡å¼¦" }, { t: "âŒ¨ï¸ æ‰‹åŠ¨è¾“å…¥" }] },
        { q: "æ˜¯å¦æœ‰å¯¹æ ‡æ¡ˆä¾‹ï¼Ÿ", opts: [{ t: "ğŸ” æš‚æ— å¯¹æ ‡", d: "ç”±åˆ¶ä½œäººè‡ªç”±å‘æŒ¥åˆ›ä½œ" }, { t: "âŒ¨ï¸ æ‰‹åŠ¨å¡«å†™è¦æ±‚", d: "è¾“å…¥å¯¹æ ‡æ›²åæˆ–é“¾æ¥" }] },
        { q: "ä½œå“çš„æ—¶é•¿è§„æ ¼ï¼š", opts: [{ t: "30s å•†ä¸šç‰‡æ®µ" }, { t: "3:30 æ ‡å‡†å®Œæ•´ç‰ˆ" }, { t: "âŒ¨ï¸ è‡ªå®šä¹‰æ—¶é•¿" }] },
        { q: "å…³äºä½œå“æƒç›Šæˆæƒæ–¹æ¡ˆï¼š", opts: [{ t: "ğŸ‘‘ ç‰ˆæƒä¹°æ–­", d: "å•†ç”¨å…¨æƒç›Š" }, { t: "ğŸ¤ éä¹°æ–­æˆæƒ", d: "ä¿ç•™è‘—ä½œæƒï¼Œä»·æ ¼äº²æ°‘" }, { t: "âŒ¨ï¸ å¦è¡Œåå•†" }] },
        { q: "æœ€åï¼Œç¡®å®šæ‚¨çš„å•†åŠ¡é¢„ç®—ï¼š", opts: [{ t: "ğŸ’° Â¥500" }, { t: "ğŸ’ Â¥3000" }, { t: "ğŸ† Â¥10000+" }, { t: "âŒ¨ï¸ æ‰‹åŠ¨æŠ¥ä»·" }] }
    ];

    let step = 0; 
    let answers = []; 
    let isWaiting = false;

    function addChat(text, type) {
        const box = document.getElementById('chat-box');
        const w = document.createElement('div');
        w.className = `bubble-wrapper ${type}-row`;
        w.innerHTML = `<div class="bubble bubble-${type}">${text}</div>`;
        box.appendChild(w);
        box.scrollTop = box.scrollHeight;
    }

    function render() {
        const c = document.getElementById('options');
        const iWrap = document.getElementById('input-bar-wrap');
        const iInp = document.getElementById('user-input');
        
        c.innerHTML = '';
        if (step >= scenarios.length) return;
        
        if (isWaiting) {
            iWrap.classList.add('manual-active');
            iInp.placeholder = "è¯·åœ¨æ­¤è¾“å…¥æ‚¨çš„å…·ä½“è¦æ±‚å¹¶å‘é€...";
            c.style.display = 'none';
        } else {
            iWrap.classList.remove('manual-active');
            iInp.placeholder = "è¡¥å……ç‰¹æ®Šéœ€æ±‚...";
            c.style.display = 'flex';
            scenarios[step].opts.forEach(opt => {
                const b = document.createElement('div');
                b.className = 'opt-btn';
                b.innerHTML = `<span class="opt-title">${opt.t}</span>${opt.d ? `<span class="desc-tag">${opt.d}</span>` : ''}`;
                b.onclick = () => {
                    if (opt.t.includes('âŒ¨ï¸')) {
                        addChat(opt.t, 'user');
                        addChat("å¥½çš„ï¼Œè¯·åœ¨ä¸‹æ–¹è¾“å…¥æ¡†å†™ä¸‹å…·ä½“è¦æ±‚ï¼Œå®Œæˆåç‚¹å‡»å‘é€ã€‚", 'ai');
                        isWaiting = true; 
                        render();
                    } else { 
                        process(opt.t); 
                    }
                };
                c.appendChild(b);
            });
        }
    }

    function handleManual() {
        const inp = document.getElementById('user-input');
        if (!inp.value.trim()) return;
        const v = inp.value; 
        inp.value = '';
        isWaiting = false; 
        process(v);
    }

    function process(v) {
        answers.push(v); 
        addChat(v, 'user'); 
        step++;
        if (step < scenarios.length) {
            setTimeout(() => { 
                addChat(scenarios[step].q, 'ai'); 
                render(); 
            }, 500);
        } else {
            setTimeout(showModal, 800);
        }
    }

    function showModal() {
        document.getElementById('modal').style.display = 'flex';
        document.getElementById('ticket-content').innerHTML = `
            <div class="item"><span class="lab">Production / Style</span><span class="val">${answers[0]} Â· ${answers[1]}</span></div>
            <div class="item"><span class="lab">Reference / Requirement</span><span class="val">${answers[2]}</span></div>
            <div class="item"><span class="lab">Duration / Rights</span><span class="val">${answers[3]} Â· ${answers[4]}</span></div>
        `;
        document.getElementById('final-budget').innerText = "æ„å‘: " + answers[5];
    }

    function undo() {
        if (step > 0 && answers.length > 0) {
            step--; 
            answers.pop();
            const box = document.getElementById('chat-box');
            // ç§»é™¤æœ€åä¸¤æ¡æ¶ˆæ¯ï¼ˆç”¨æˆ·çš„ä¸€æ¡ï¼ŒAIçš„ä¸€æ¡ï¼‰
            box.removeChild(box.lastChild); 
            box.removeChild(box.lastChild);
            isWaiting = false; 
            render();
        }
    }

    function copyEmail() {
        alert('å®˜æ–¹è”ç»œé‚®ç®±ï¼štingyangmusic@qq.com\nè¯·æˆªå›¾å½“å‰æ„å‘å•å‘é€è‡³é‚®ä»¶ï¼Œæˆ‘ä»¬å°†å°½å¿«å›å¤ã€‚');
    }

    // åˆå§‹è¿è¡Œ
    window.onload = () => {
        addChat(scenarios[0].q, 'ai'); 
        render();
    };
</script>
</body>
</html>
