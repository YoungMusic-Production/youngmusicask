<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>YOUNG MUSIC | åŒ å¿ƒåŸåˆ›å•†åŠ¡å®šåˆ¶</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <style>
        :root { --primary: #a855f7; --bg: #050505; }
        body { background-color: var(--bg); color: #e5e5e5; font-family: -apple-system, sans-serif; height: 100vh; overflow: hidden; }
        .bubble { max-width: 85%; padding: 14px 18px; border-radius: 20px; font-size: 14px; line-height: 1.6; margin-bottom: 12px; animation: slideUp 0.3s ease-out; }
        .bubble-ai { background: #1a1a1c; color: #d4d4d8; border-bottom-left-radius: 4px; border: 1px solid #333; }
        .bubble-user { background: var(--primary); color: white; border-bottom-right-radius: 4px; align-self: flex-end; }
        .opt-btn { background: #18181b; border: 1px solid #27272a; padding: 12px; border-radius: 12px; font-size: 13px; cursor: pointer; transition: all 0.2s; color: #a1a1aa; text-align: left; display: flex; flex-direction: column; }
        .opt-btn:hover { background: var(--primary); border-color: white; color: white; transform: translateY(-2px); }
        .desc-tag { font-size: 10px; color: #666; margin-top: 4px; line-height: 1.2; font-weight: normal; }
        .nav-btn { font-size: 10px; border: 1px solid rgba(255,255,255,0.1); padding: 4px 10px; border-radius: 99px; color: #666; }
        #modal-overlay { background: rgba(0,0,0,0.97); backdrop-filter: blur(20px); }
        .ticket-bg { background: #000; border: 1px solid #333; box-shadow: 0 0 60px rgba(168,85,247,0.2); }
        .logo-glow { filter: drop-shadow(0 0 5px rgba(212,175,55,0.3)); }
        @keyframes slideUp { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
    </style>
</head>
<body class="flex justify-center items-center p-4">

    <div class="w-full max-w-5xl h-[95vh] flex gap-6">
        <div class="flex-1 flex flex-col bg-neutral-900 rounded-3xl border border-white/10 overflow-hidden shadow-2xl relative">
            <div class="p-4 border-b border-white/5 flex items-center justify-between bg-black/40">
                <div class="flex items-center gap-3">
                    <img src="logo.jpg" class="w-10 h-10 object-contain logo-glow" onerror="this.src='https://api.iconify.design/material-symbols:music-note-rounded.svg?color=%23a855f7'">
                    <div>
                        <h2 class="font-bold text-sm text-white tracking-widest uppercase">YOUNG MUSIC</h2>
                        <p class="text-[8px] text-purple-400 font-mono italic uppercase">Professional Bespoke Audio</p>
                    </div>
                </div>
                <button onclick="undo()" class="nav-btn">â†© æ’¤é”€é‡é€‰</button>
            </div>

            <div id="chat-box" class="flex-1 overflow-y-auto p-5 flex flex-col space-y-4"></div>
            
            <div id="options-container" class="px-5 py-4 bg-black/40 border-t border-white/5">
                <div id="options-area" class="grid grid-cols-1 md:grid-cols-2 gap-2.5 max-h-[280px] overflow-y-auto"></div>
            </div>

            <div class="p-4 bg-black/30 border-t border-white/5">
                <form onsubmit="handleManual(event)" class="flex gap-2">
                    <input id="user-input" type="text" placeholder="æè¿°ç‰¹æ®Šéœ€æ±‚æˆ–è¾“å…¥è‡ªå®šä¹‰é¡¹..." class="flex-1 bg-white/5 border border-white/10 rounded-xl px-4 py-3 text-sm text-white focus:outline-none focus:border-purple-500">
                    <button type="submit" class="bg-purple-600 text-white font-bold px-6 rounded-xl text-sm">å‘é€</button>
                </form>
            </div>
        </div>
    </div>

    <div id="modal-overlay" class="fixed inset-0 z-50 hidden flex items-center justify-center p-4">
        <div class="flex flex-col items-center gap-6">
            <div id="final-sheet" class="ticket-bg w-[380px] p-8 text-white rounded-sm text-center">
                <img src="logo.jpg" class="w-16 h-16 mx-auto mb-4 object-contain logo-glow" onerror="this.style.display='none'">
                <div class="font-black text-xl tracking-tighter border-y border-white/20 py-2 w-full mb-6 uppercase">é¡¹ç›®å®šåˆ¶æ„å‘å•</div>
                <div class="space-y-4 text-left text-[11px] px-2">
                    <div><p class="text-[8px] text-purple-400 uppercase mb-1">æ¨¡å¼/æ›²é£</p><p id="s-mode-vibe" class="font-bold border-l-2 border-purple-500 pl-2 text-sm"></p></div>
                    <div><p class="text-[8px] text-purple-400 uppercase mb-1">å‚è€ƒ/è¦æ±‚</p><p id="s-ref" class="text-gray-400 italic bg-white/5 p-2 rounded"></p></div>
                    <div class="grid grid-cols-2 gap-4">
                        <div><p class="text-[8px] text-gray-500 uppercase">æ—¶é•¿é…ç½®</p><p id="s-spec" class="font-medium"></p></div>
                        <div><p class="text-[8px] text-gray-500 uppercase">æˆæƒæ–¹æ¡ˆ</p><p id="s-license" class="font-medium text-purple-300"></p></div>
                    </div>
                    <div class="mt-4 p-3 bg-purple-900/20 border-l-4 border-purple-600">
                        <p class="text-[8px] text-purple-400 mb-1 italic uppercase">Estimated Budget</p>
                        <p id="s-budget" class="text-xl font-black text-white"></p>
                    </div>
                    <div class="mt-4 pt-2 border-t border-white/5 text-center">
                        <p class="text-[8px] text-gray-500 uppercase">Official Contact</p>
                        <p class="text-purple-400 font-mono text-sm">tingyangmusic@qq.com</p>
                    </div>
                </div>
                <div class="mt-6 text-[8px] opacity-20 italic">YOUNG MUSIC PRODUCTION | SN: #<span id="sheet-id-val"></span></div>
            </div>
            <div class="flex gap-3">
                <button onclick="download()" class="px-6 py-3 bg-neutral-800 text-white rounded-full text-xs">ğŸ’¾ ä¿å­˜å›¾ç‰‡</button>
                <button onclick="sendEmail()" class="px-6 py-3 bg-purple-600 text-white font-bold rounded-full text-xs">ğŸ“§ æäº¤ç”³è¯·</button>
                <button onclick="location.reload()" class="px-6 py-3 bg-white/10 text-white rounded-full text-xs">ğŸ”„ é‡æ–°å¼€å§‹</button>
            </div>
        </div>
    </div>

    <script>
        let step = 0; let answers = [];
        const config = { sheetId: Math.floor(Math.random()*90000 + 10000) };
        const myEmail = "tingyangmusic@qq.com";

        const scenarios = [
            { q: "æ‚¨å¥½ï¼Œæ¬¢è¿æ¥åˆ° YOUNG MUSICã€‚è¯·é€‰æ‹©**åˆ¶ä½œæ¨¡å¼**ï¼š", 
              opts: [{ t: "ğŸ¨ åŒ å¿ƒÂ·å…¨æ‰‹å·¥åˆ›ä½œ", d: "æ‹’ç»æ¨¡ç‰ˆï¼Œè‰ºæœ¯ä¸Šé™æé«˜ã€‚" }, { t: "âš¡ AI æ™ºèƒ½è¾…åŠ©åˆ¶ä½œ", d: "æœ€æ–°AIæŠ€æœ¯ï¼Œé«˜æ€§ä»·æ¯”ã€‚" }, { t: "âŒ¨ï¸ è‡ªå®šä¹‰è¾“å…¥", d: "æˆ‘æœ‰å…¶ä»–æƒ³æ³•..." }] },
            { q: "è¯·é€‰æ‹©æ‚¨å¿ƒä»ªçš„**æ›²é£é£æ ¼**ï¼š", 
              opts: [
                  { t: "ğŸ¤ æµè¡Œ (Pop)", d: "å¸‚åœºä¸»æµï¼Œæ‚¦è€³æ˜“ä¼ å”±ã€‚" }, 
                  { t: "âš¡ ç”µå­ / ç”µéŸ³ (EDM)", d: "èƒ½é‡åè¶³ï¼Œé€‚åˆåŠ¨æ„Ÿè§†é¢‘æˆ–èˆå°ã€‚" }, 
                  { t: "ğŸ§ å˜»å“ˆ / æ‘‡æ»š", d: "æå…·å¾‹åŠ¨ä¸å†²å‡»åŠ›ï¼Œè¡¨è¾¾ä¸ªæ€§ã€‚" },
                  { t: "ğŸ¹ æŠ’æƒ… / æ°›å›´", d: "æƒ…æ„Ÿç»†è…»ï¼Œé€‚åˆèƒŒæ™¯ä¸»é¢˜ã€‚" }, 
                  { t: "ğŸ® å›½é£ / ç®¡å¼¦", d: "å¤§åˆ¶ä½œæ„Ÿï¼Œåº•è•´æ·±åšã€‚" }, 
                  { t: "âŒ¨ï¸ æ‰‹åŠ¨è¾“å…¥", d: "æƒ³è¦ç‹¬ç‰¹é£æ ¼..." }
              ] 
            },
            { q: "æ˜¯å¦æœ‰**å¯¹æ ‡æ¡ˆä¾‹ (Reference)**ï¼Ÿ", 
              opts: [{ t: "ğŸ” æš‚æ— å¯¹æ ‡", d: "ç”±åˆ¶ä½œäººè‡ªç”±å‘æŒ¥åˆ›ä½œã€‚" }, { t: "âŒ¨ï¸ æ‰‹åŠ¨å¡«å†™è¦æ±‚", d: "è¾“å…¥æ­Œæ›²åæˆ–é“¾æ¥æè¿°ã€‚" }] },
            { q: "ä½œå“çš„**æ—¶é•¿è§„æ ¼**ï¼š", 
              opts: [{ t: "30s å•†ä¸šç‰‡æ®µ", d: "å¹¿å‘Šæˆ–å¼•æµè§†é¢‘ã€‚" }, { t: "3:30 æ ‡å‡†å®Œæ•´ç‰ˆ", d: "å•æ›²è§„æ ¼ã€‚" }, { t: "âŒ¨ï¸ è‡ªå®šä¹‰æ—¶é•¿", d: "é¡¹ç›®å…·ä½“è¦æ±‚ã€‚" }] },
            { q: "å…³äº**ä½œå“æƒç›Šæˆæƒ**æ–¹æ¡ˆï¼š", 
              opts: [{ t: "ğŸ‘‘ ç‰ˆæƒä¹°æ–­", d: "ä¸€æ¬¡æ€§æ”¯ä»˜ï¼Œæ‹¥æœ‰å•†ç”¨å‘è¡Œå…¨æƒç›Šã€‚" }, { t: "ğŸ¤ éä¹°æ–­æˆæƒ", d: "ä»·æ ¼äº²æ°‘ï¼Œä¿ç•™è‘—ä½œæƒã€‚" }, { t: "âŒ¨ï¸ å¦è¡Œåå•†", d: "é¢è°ˆç»†èŠ‚ã€‚" }] },
            { q: "æœ€åï¼Œç¡®å®šæ‚¨çš„**å•†åŠ¡é¢„ç®—**æ„å‘ï¼š", 
              opts: [{ t: "ğŸ’° Â¥500", d: "" }, { t: "ğŸ’ Â¥3000", d: "" }, { t: "ğŸ† Â¥10000+", d: "" }, { t: "âŒ¨ï¸ æ‰‹åŠ¨æŠ¥ä»·", d: "" }] }
        ];

        window.onload = () => { document.getElementById('sheet-id-val').innerText = config.sheetId; refreshUI(); };
        function refreshUI() {
            const box = document.getElementById('chat-box'); box.innerHTML = "";
            for (let i = 0; i < step; i++) { addBubble(scenarios[i].q, 'ai'); addBubble(answers[i], 'user'); }
            if (step < scenarios.length) { aiSay(scenarios[step].q); renderOpts(scenarios[step].opts); } 
            else { aiSay("å•æ®å·²ç”Ÿæˆã€‚"); setTimeout(showSheet, 800); }
        }
        function renderOpts(opts) {
            const area = document.getElementById('options-area'); area.innerHTML = "";
            opts.forEach(o => {
                const btn = document.createElement('button'); btn.className = "opt-btn";
                btn.innerHTML = `<span>${o.t}</span>${o.d ? `<span class="desc-tag">${o.d}</span>` : ''}`;
                btn.onclick = () => handleLogic(o.t);
                area.appendChild(btn);
            });
        }
        function handleLogic(val) { answers.push(val); step++; refreshUI(); }
        function undo() { if (step > 0) { answers.pop(); step--; refreshUI(); } }
        function showSheet() {
            document.getElementById('s-mode-vibe').innerText = `${answers[0]} / ${answers[1]}`;
            document.getElementById('s-ref').innerText = answers[2];
            document.getElementById('s-spec').innerText = answers[3];
            document.getElementById('s-license').innerText = answers[4];
            document.getElementById('s-budget').innerText = "æ„å‘é¢„ç®—: " + answers[5];
            document.getElementById('modal-overlay').classList.remove('hidden');
        }
        function aiSay(txt) { addBubble(txt, 'ai'); }
        function addBubble(txt, type) {
            const d = document.createElement('div'); d.className = `bubble bubble-${type} ${type==='user'?'ml-auto':''}`; d.innerText = txt;
            document.getElementById('chat-box').appendChild(d);
            document.getElementById('chat-box').scrollTop = document.getElementById('chat-box').scrollHeight;
        }
        function download() {
            html2canvas(document.getElementById('final-sheet'), { scale: 3, backgroundColor: "#000" }).then(canvas => {
                const a = document.createElement('a'); a.download = `YM_Order.png`; a.href = canvas.toDataURL(); a.click();
            });
        }
        function sendEmail() { window.open(`mailto:${myEmail}?subject=å®šåˆ¶éœ€æ±‚&body=è¯¦æƒ…è¯·è§é™„ä»¶å›¾`); }
        function handleManual(e) { e.preventDefault(); const v = document.getElementById('user-input').value; if(v) { handleLogic(v); document.getElementById('user-input').value=''; } }
    </script>
</body>
</html>
